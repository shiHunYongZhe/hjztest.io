(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0db873"],{"6ff3":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("p",[e._v("query: 1111")]),o("p",[e._v("data: "+e._s(e.socketData))])])},s=[],c=o("4360"),i="ws://192.168.1.104:8181",u=null,r=null,a=!1,b="ownfun/getWebsocketMessage",f={timeout:6e4,timeoutObj:null,serverTimeoutObj:null,reset:function(){return clearInterval(this.timeoutObj),clearTimeout(this.serverTimeoutObj),this},start:function(){var e=this;this.timeoutObj=setTimeout((function(){r.websocketSendMessage("ping"),e.serverTimeoutObj=setTimeout((function(){r.closeWebsocket()}),12e4)}),this.timeout)}};function k(){a||(a=!0,setTimeout((function(){r.initWebsocket(),a=!1}),2e3))}var l={createWebSocket:function(e){e&&(b=e),r=this;try{this.initWebsocket()}catch(t){k()}},initWebsocket:function(){u=new WebSocket(i),u.onopen=this.websocketonopen,u.onerror=this.websocketonerror,u.onmessage=this.websocketOnMessage,u.onclose=this.websocketOnClose,window.onbeforeunload=function(){r.closeWebsocket()}},websocketonopen:function(){f.reset().start()},websocketonerror:function(e){k()},websocketOnMessage:function(e){f.reset().start(),e.data&&"pong"!==e.data&&c["a"].dispatch(b,JSON.parse(e.data))},websocketOnClose:function(){k()},websocketSendMessage:function(e){u.send(e)},closeWebsocket:function(){a=!0,f.reset(),u.close()}},w={name:"websocket",mounted:function(){l.createWebSocket()},beforeDestroy:function(){l.closeWebsocket()},data:function(){return{}},computed:{socketData:function(){return this.$store.state.ownfun.socketData}},watch:{socketData:function(e){}}},d=w,h=o("2877"),m=Object(h["a"])(d,n,s,!1,null,"522f950e",null);t["default"]=m.exports}}]);